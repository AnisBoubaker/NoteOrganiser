language: python
python:
  - "2.7"
  - "3.4"
before_install:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sudo apt-get update -qq
  - sudo apt-get install -y pandoc
install:
  - pip install PySide --no-index --find-links https://parkin.github.io/python-wheelhouse/;
  # Travis CI servers use virtualenvs, so we need to finish the install by the following
  - python ~/virtualenv/python${TRAVIS_PYTHON_VERSION}/bin/pyside_postinstall.py -install
  - pip install coveralls
  - pip install 'pypandoc>=0.9.7'
  - pip install pandocfilters
  - pip install pytest
  - pip install 'pytest-qt>=1.2.1'
  - pip install pytest-cov
  - pip install pytest-mock
  - python setup.py install
script: make test-single
after_success:
  coveralls
